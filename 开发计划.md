# 高考志愿规划助手 - 开发计划

## 🎯 项目目标
基于用户位次和历史数据，提供"冲/稳/保"院校推荐，支持基本筛选功能。

## 📁 项目结构（简化版）
```
College-Entrance-Examination-Volunteer-Selector/
├── app.py                    # 主程序
├── data_processor.py         # 数据处理
├── recommender.py           # 推荐算法  
├── templates/
│   └── index.html           # 前端页面
├── static/
│   ├── style.css
│   └── uploads/             # 上传文件
├── config.py                # 配置文件
├── requirements.txt         # 依赖包
└── README.md
```

## 🔧 技术栈（最简）
- **后端**: Flask (Python)
- **前端**: HTML + JavaScript + Bootstrap
- **数据处理**: pandas
- **文件上传**: Flask文件处理

## 📝 开发步骤

### 第1步：数据处理模块 (1天)
- [x] 读取Excel文件（一分一档表、最低分数线、招生计划）
- [x] 数据清洗和格式统一
- [x] 分数位次转换功能

### 第2步：推荐算法 (1天)
- [x] 实现冲稳保判断逻辑
```python
def get_recommendation_type(user_rank, cutoff_rank):
    diff_pct = (cutoff_rank - user_rank) / user_rank
    if diff_pct <= -0.05: return "冲"
    elif abs(diff_pct) <= 0.05: return "稳"
    else: return "保"
```

### 第3步：Web界面 (1天)
- [x] 文件上传页面
- [x] 参数输入表单（位次、物理/历史、筛选条件）
- [x] 结果展示表格

### 第4步：集成测试 (0.5天)
- [x] 完整流程测试
- [x] 基本错误处理

## 🎨 界面设计（极简版）

### 主页面包含：
1. **文件上传区域**
   - 一分一档表.xlsx
   - 最低分数线.xlsx  
   - 招生计划.xlsx

2. **参数输入区域**
   - 考生位次（必填）
   - 科目选择：物理/历史（必填）
   - 城市筛选（可选）
   - 211/985筛选（可选）

3. **结果展示区域**
   - 冲线推荐表格
   - 稳妥推荐表格
   - 保底推荐表格

## ⚙️ 核心配置
```python
# config.py
RISK_THRESHOLD_CHONG = -0.05    # 冲线阈值
RISK_THRESHOLD_WEN = 0.05       # 稳线阈值
UPLOAD_FOLDER = 'static/uploads'
MAX_FILE_SIZE = 16 * 1024 * 1024

# 211/985院校列表（硬编码）
SCHOOLS_985 = ['北京大学', '清华大学', '复旦大学', ...]
SCHOOLS_211 = ['广西大学', '桂林电子科技大学', ...]
```

## 📊 数据处理流程
1. 上传Excel文件 → 2. 读取并验证数据 → 3. 统一列名格式 → 4. 合并院校标识 → 5. 缓存处理结果

## 🔍 推荐逻辑
1. 输入用户位次 → 2. 遍历所有专业录取线 → 3. 计算位次差异百分比 → 4. 分类为冲/稳/保 → 5. 应用筛选条件 → 6. 返回排序结果

## 📋 功能清单

### 必须功能 ✅
- [x] Excel文件上传和解析
- [x] 位次/分数转换
- [x] 冲稳保推荐算法
- [x] 基本筛选（城市、211/985）
- [x] 结果表格展示

### 可选功能 ⭕
- [ ] 专业大类筛选
- [ ] 结果导出
- [ ] 数据可视化图表

## 🚨 错误处理
- 文件格式错误 → 提示重新上传
- 位次超出范围 → 显示警告信息
- 筛选无结果 → 建议放宽条件
- 数据缺失 → 提示缺少字段

## 🎯 开发时间线
- **Day 1**: 数据处理 + 推荐算法
- **Day 2**: Web界面 + 文件上传
- **Day 3**: 集成测试 + 优化

## 📦 部署要求
- Python 3.8+
- 安装依赖: `pip install flask pandas openpyxl`
- 运行: `python app.py`
- 访问: `http://localhost:5000`

## 💡 使用说明
1. 上传三个Excel文件
2. 输入考生位次和科目
3. 选择筛选条件（可选）
4. 点击"获取推荐"查看结果

---
*注：该系统基于2024年数据，仅供参考，最终以官方投档线为准* 